(()=>{"use strict";var e={28:(e,n,t)=>{t.d(n,{Z:()=>m});var o=t(81),r=t.n(o),a=t(645),s=t.n(a),c=t(667),l=t.n(c),i=new URL(t(138),t.b),d=s()(r()),u=l()(i);d.push([e.id,`@font-face {\n    font-family: 'MinecraftFont';\n    src: url(${u});\n}\n\nbody {\n    font-family: 'MinecraftFont', monospace;\n    margin: 0;\n    padding: 1vh;\n    background-color: #1c1c1c;\n    color: #fff;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100vh;\n}\n\n.container {\n    text-align: center;\n    margin-bottom: 1vh;\n    margin-top: 2vh;\n}\n\n#main-content,\n#authorization-form {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n#authorization-form {\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n}\n\n#username {\n    width: 11vw;\n    padding: 0.5vh;\n    font-size: 1vw;\n    margin-top: 1vh;\n    font-family: 'MinecraftFont', monospace;\n}\n\n.game-container {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin-top: 3vh;\n}\n\n#game-content {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-top: 2vh;\n}\n\n.square,\n.game-square {\n    display: grid;\n    gap: 0.2vw;\n    border: 0.5vh solid #333;\n    border-radius: 2%;\n    cursor: pointer;\n    margin: 2vh;\n}\n\n.cell,\n.game-cell {\n    width: 1.5vw;\n    height: 1.5vw;\n    background-color: var(--cell-color);\n}\n\n#level-buttons,\nstart-game-button {\n    margin-bottom: 2vh;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    gap: 2vw;\n}\n\n#level-buttons button.disabled-button {\n    background-color: #666;\n    color: #999;\n    cursor: not-allowed;\n}\n\n#level-buttons button {\n    background-color: #4caf50;\n    color: white;\n    padding: 2vh 4vw;\n    font-size: 2vw;\n    font-family: 'MinecraftFont', monospace;\n    border: none;\n    border-radius: 0.5vw;\n    cursor: pointer;\n    transition: background-color 0.3s;\n}\n\n#level-buttons button:hover {\n    background-color: #45a049;\n}\n\n#start-game-button,\n.back-to-menu-button {\n    color: white;\n    padding: 1vh 2vw;\n    font-size: 1vw;\n    font-family: 'MinecraftFont', monospace;\n    border: none;\n    border-radius: 0.5vw;\n    cursor: pointer;\n    transition: background-color 0.3s;\n    margin-top: 1vh;\n}\n\n#start-game-button {\n    background-color: #4caf50;\n}\n\n#start-game-button:hover {\n    background-color: #45a049;\n}\n\n.back-to-menu-button {\n    background-color: #ff6f61;\n}\n\n.back-to-menu-button:hover {\n    background-color: #d14c41;\n}\n\n#stats-container {\n    text-align: center;\n}\n\n.stats-content {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-top: 2vh;\n}\n\n#stats-table {\n    width: 100%;\n    border-collapse: collapse;\n}\n\n#stats-table th,\n#stats-table td {\n    padding: 1vh;\n    border: 0.05vh solid #ddd;\n}\n\n#stats-table caption {\n    padding: 1vh;\n    font-size: 2vw;\n    font-family: 'MinecraftFont', monospace;\n}\n\n.decrease-effect {\n    transform: scale(0.5);\n}\n\n.increase-effect {\n    transform: scale(1.15);\n}\n\n.stagger-effect {\n    animation: staggerAnimation 0.5s infinite;\n}\n\n.glow-green {\n    animation: glowGreenAnimation 0.5s ease-out;\n}\n\n.glow-red {\n    animation: glowRedAnimation 0.5s ease-out;\n}\n\n@keyframes glowGreenAnimation {\n    0% {\n        box-shadow: 0 0 5px 5px rgba(0, 255, 0, 0.7);\n    }\n\n    50% {\n        box-shadow: 0 0 10px 10px rgba(0, 255, 0, 0.5);\n    }\n\n    100% {\n        box-shadow: 0 0 5px 5px rgba(0, 255, 0, 0.3);\n    }\n}\n\n@keyframes glowRedAnimation {\n    0% {\n        box-shadow: 0 0 5px 5px rgba(255, 0, 0, 0.7);\n    }\n\n    50% {\n        box-shadow: 0 0 10px 10px rgba(255, 0, 0, 0.5);\n    }\n\n    100% {\n        box-shadow: 0 0 5px 5px rgba(255, 0, 0, 0.3);\n    }\n}\n\n@keyframes staggerAnimation {\n    0% {\n        transform: translateY(0);\n    }\n\n    50% {\n        transform: translateY(-5px);\n    }\n\n    100% {\n        transform: translateY(0);\n    }\n}`,""]);const m=d},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",o=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),o&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),o&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,o,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(o)for(var c=0;c<this.length;c++){var l=this[c][0];null!=l&&(s[l]=!0)}for(var i=0;i<e.length;i++){var d=[].concat(e[i]);o&&s[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),n.push(d))}},n}},667:e=>{e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var n=[];function t(e){for(var t=-1,o=0;o<n.length;o++)if(n[o].identifier===e){t=o;break}return t}function o(e,o){for(var a={},s=[],c=0;c<e.length;c++){var l=e[c],i=o.base?l[0]+o.base:l[0],d=a[i]||0,u="".concat(i," ").concat(d);a[i]=d+1;var m=t(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)n[m].references++,n[m].updater(p);else{var f=r(p,o);o.byIndex=c,n.splice(c,0,{identifier:u,updater:f,references:1})}s.push(u)}return s}function r(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,r){var a=o(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<a.length;s++){var c=t(a[s]);n[c].references--}for(var l=o(e,r),i=0;i<a.length;i++){var d=t(a[i]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}a=l}}},569:e=>{var n={};e.exports=function(e,t){var o=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(o,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},138:(e,n,t)=>{e.exports=t.p+"e01d4c33797bad833313.ttf"}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var a=n[o]={id:o,exports:{}};return e[o](a,a.exports,t),a.exports}t.m=e,t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var o=n.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&!e;)e=o[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{var e=t(379),n=t.n(e),o=t(795),r=t.n(o),a=t(569),s=t.n(a),c=t(565),l=t.n(c),i=t(216),d=t.n(i),u=t(589),m=t.n(u),p=t(28),f={};f.styleTagTransform=m(),f.setAttributes=l(),f.insert=s().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=d(),n()(p.Z,f),p.Z&&p.Z.locals&&p.Z.locals;const g=JSON.parse('{"1":{"timer":20,"maxAttempts":3,"steps":[{"squaresCount":2,"size":2,"colorCount":2,"pointsForCorrectAnswer":1,"penaltyForIncorrectAnswer":1,"effects":[]},{"squaresCount":3,"size":2,"colorCount":3,"pointsForCorrectAnswer":1,"penaltyForIncorrectAnswer":2,"effects":["increase"]},{"squaresCount":4,"size":3,"colorCount":3,"pointsForCorrectAnswer":1,"penaltyForIncorrectAnswer":3,"effects":["stagger","decrease"]}]},"2":{"timer":15,"maxAttempts":2,"steps":[{"squaresCount":4,"size":3,"colorCount":5,"pointsForCorrectAnswer":2,"penaltyForIncorrectAnswer":4,"effects":["rotate"]},{"squaresCount":5,"size":4,"colorCount":5,"pointsForCorrectAnswer":2,"penaltyForIncorrectAnswer":5,"effects":["decrease","stagger","increase"]},{"squaresCount":6,"size":4,"colorCount":5,"pointsForCorrectAnswer":2,"penaltyForIncorrectAnswer":6,"effects":["rotate","increase"]}]},"3":{"timer":10,"maxAttempts":1,"steps":[{"squaresCount":6,"size":4,"colorCount":9,"pointsForCorrectAnswer":3,"penaltyForIncorrectAnswer":7,"effects":["decrease","increase"]},{"squaresCount":7,"size":4,"colorCount":4,"pointsForCorrectAnswer":3,"penaltyForIncorrectAnswer":8,"effects":["decrease","increase","stagger"]},{"squaresCount":8,"size":5,"colorCount":9,"pointsForCorrectAnswer":3,"penaltyForIncorrectAnswer":9,"effects":["rotate","decrease","increase","stagger"]}]}}'),h={DECREASE:"decrease-effect",INCREASE:"increase-effect",ROTATE:"",STAGGER:"stagger-effect"};class v{constructor(e,n){this.size=e,this.colorCount=n,this.generateSquare()}generateSquare(){const e=["red","orange","yellow","green","blue","indigo","violet","black","white"],n=this.colorCount,t=this.size*this.size,o=[];for(let t=0;t<n;t++){const n=Math.floor(Math.random()*e.length),t=e.splice(n,1)[0];o.push(t)}for(let e=n;e<t;e++){const t=Math.floor(Math.random()*n);o[e]=o[t]}this.cellColors=o}createCellElement(e,n){const t=document.createElement("div");t.classList.add("cell");const o=this.cellColors[n];t.style.setProperty("--cell-color",o),e.appendChild(t)}}let y,b,w,x="",C=1,E=0,I=0,A=0,S=0,M=0;function k(e){const n=new v(e.size,e.colorCount),t=Array.from({length:e.squaresCount-1},(()=>new v(e.size,e.colorCount)));t.splice(Math.floor(Math.random()*t.length),0,n);const o=document.getElementById("square-container"),r=document.createElement("div");r.classList.add("square"),o.appendChild(r),r.style.gridTemplateColumns=`repeat(${n.size}, 1fr)`;for(let e=0;e<n.size*n.size;e++)n.createCellElement(r,e);const a=document.getElementById("game-container"),s=function(e,n){return e.slice().sort((()=>Math.random()-Math.random())).slice(0,n)}(t,Math.floor(e.squaresCount/2));function c(o){const r=document.querySelectorAll(".game-square")[o];if(setTimeout((()=>{r.classList.remove("glow-green","glow-red")}),500),t[o]===n)I+=e.pointsForCorrectAnswer,q(I),E++,setTimeout((()=>{E<b[C]?.steps.length?(L(),k(b[C]?.steps[E])):(clearInterval(w),alert("Удача улыбнулась тебе! Уровень пройден."),F(!0),O())}),1e3),r.classList.add("glow-green"),document.querySelectorAll(".game-cell").forEach((e=>{e.style.pointerEvents="none"}));else{if(M--,M<=0)return clearInterval(w),alert("У вас закончились попытки. Возвращение в меню."),void F();T();const n=e.penaltyForIncorrectAnswer;I-=n,I=Math.max(0,I),q(I),r.classList.add("glow-red")}y.points=I,y.level=Math.max(C,y.level);const a=JSON.parse(localStorage.getItem("statistics"))||{};a[x]=y,localStorage.setItem("statistics",JSON.stringify(a))}t.forEach(((n,t)=>{const o=document.createElement("div");o.classList.add("game-square"),a.appendChild(o),s.includes(n)&&function(e,n){const t=e.classList;(n=n.sort((()=>Math.random()-Math.random()))).forEach((n=>{const o=n.toUpperCase();if(1==t.length)if("ROTATE"===o){const n=Math.floor(360*Math.random());e.style.transform=`rotate(${n}deg)`}else e.classList.add(h[o])}))}(o,e.effects),o.style.gridTemplateColumns=`repeat(${n.size}, 1fr)`;for(let e=0;e<n.size*n.size;e++){const r=document.createElement("div");r.classList.add("game-cell");const a=n.cellColors[e];r.style.setProperty("--cell-color",a),r.addEventListener("click",(()=>c(t))),o.appendChild(r)}}))}function F(e=!1){clearInterval(w);const n=document.getElementById("level-buttons"),t=document.getElementById("game-content"),o=document.getElementById("back-to-menu"),r=document.getElementById("stats-container");n&&(n.style.display="flex"),t&&(t.style.display="none"),o&&(o.style.display="none"),r&&(r.style.display="none"),E=0,y.level=Math.max(y.level,C),y.level=Math.min(Object.keys(b).length,y.level+(e?1:0));const a=JSON.parse(localStorage.getItem("statistics"))||{};a[x]=y,localStorage.setItem("statistics",JSON.stringify(a)),L()}function z(){A--,A<=0&&(clearInterval(w),alert("А уже все... Время вышло!"),F()),B()}function B(){document.getElementById("timer").textContent=A}function T(){document.getElementById("attempts").textContent=M}function q(e){document.getElementById("points-container").textContent=`Баллы: ${e}`}function L(){const e=document.getElementById("square-container"),n=document.getElementById("game-container");e.innerHTML="",n.innerHTML=""}function O(){document.getElementById("level-buttons").querySelectorAll("button").forEach(((e,n)=>{if("showStatsButton"!==e.id){const t=n+1,o=y&&y.level>=t||1===t;e.disabled=!o,o?e.classList.remove("disabled-button"):e.classList.add("disabled-button")}}))}(async function(){return g})().then((e=>{b=e;const n=document.getElementById("level-buttons");Object.keys(b).forEach((e=>{const t=document.createElement("button");t.textContent=`Уровень ${e}`;const o=Number(e),r=y&&y.level>=o||1===o;t.disabled=!r,t.addEventListener("click",(()=>function(e){document.getElementById("level-buttons").style.display="none",document.getElementById("game-content").style.display="flex",document.getElementById("back-to-menu").style.display="block",L(),E=0,C=e;const n=b[C];S=b[C]?.maxAttempts||3,M=S,T(),y=JSON.parse(localStorage.getItem("statistics")),y=y[x],q(Math.max(0,y.points)),A=n.timer,w=setInterval(z,1e3),B(),k(n?.steps[E])}(o))),n.appendChild(t)}));const t=document.createElement("button");t.textContent="Показать статистику",t.id="showStatsButton",t.addEventListener("click",(()=>function(){const e=document.getElementById("main-content"),n=document.getElementById("level-buttons"),t=document.getElementById("stats-container");e.style.display="none",n.style.display="none",t.style.display="flex",function(){const e=document.getElementById("stats-body");e.innerHTML="";const n=JSON.parse(localStorage.getItem("statistics"))||{},t=Object.keys(n).map((e=>({name:e,points:n[e].points||0,level:n[e].level||1})));t.sort(((e,n)=>n.points!==e.points?n.points-e.points:n.level!==e.level?n.level-e.level:e.name.localeCompare(n.name))),t.forEach((n=>{const t=document.createElement("tr");t.innerHTML=`\n            <td>${n.name}</td>\n            <td>${n.points}</td>\n            <td>${n.level}</td>\n        `,e.appendChild(t)}))}()}())),n.appendChild(t)})),window.startGame=function(){const e=document.getElementById("username").value.trim();if(e){const n=document.getElementById("main-content"),t=document.getElementById("level-buttons");if(n.style.display="none",t.style.display="flex",x=e,y=JSON.parse(localStorage.getItem("statistics"))||{},y=y[x]||{},!y.level){y.level=1,y.points=0;const e=JSON.parse(localStorage.getItem("statistics"))||{};e[x]=y,localStorage.setItem("statistics",JSON.stringify(e))}I=Math.max(0,y.points),C=y.level,O()}else alert("Имя не может быть пустым!!!")},window.backToMenu=F})()})();